(function(){var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};a=function(){function a(b){this.first_init_defer=$.Deferred(),this.full_init_defer=$.Deferred(),this.src=b.src,this.element=b.element,this.autoPlay=b.autoPlay,this.id=this.element[0].id,this.element=this.convertElement(),Object.getOwnPropertyNames(a.prototype).forEach(function(a){return"Error"===this[a].name?console.error(this.id,a,"Must be implement",this):void 0},this),this.element.data("class",this),this.element.on("play",function(a){return $(a.target).data("class").play.apply($(a.target).data("class"),[!0])}),this.element.on("stop",function(a){return $(a.target).data("class").stop.apply($(a.target).data("class"),[!0])}),this.element.on("cancel",function(a){return $(a.target).data("class").cancel().apply($(a.target).data("class"),[!0])})}var b,c;return c=ResourceManager.getInstance(),b=function(){return console.error(this.id,"must be implement")},a.prototype.first_init=Error,a.prototype.full_init=Error,a.prototype.play=Error,a.prototype.stop=Error,a.prototype.convertElement=Error,a.prototype.cancel=function(){return c.cancel(this)},a.prototype.loadImage=function(a){return c.loadImage.apply(this,[a])},a.prototype.setTimeout=function(){return c.setTimeout.apply(this,[this.delay])},a}(),console.log(""),this.Viewer=a,a.Image=function(a){function b(a){b.__super__.constructor.call(this,a),this.debugBaseId=this.id+"_"+this.element.data("type")}return c(b,a),b.prototype.convertElement=function(){return this.img=$("<img>"),this.element.append(this.img)},b.prototype.first_init=function(){var a,b;return a=$.Deferred(),a.notify(this.id+" : start load first image"),window.performance.measure(this.debugBaseId+"_first_init"),window.performance.mark(this.debugBaseId+"_first_init_start"),b=this,this.loadImage(this.src).then(function(c){var d,e;return b.img.attr({src:c.src,width:c.width,height:c.height}),a.resolve(),window.performance.mark(b.debugBaseId+"_first_init_end"),d=window.performance.getEntriesByName(b.debugBaseId+"_first_init")[0],e=d.duration+d.startTime,performanceManager.WriteToLog(b.debugBaseId+"_first_init",e)}),a},b.prototype.full_init=function(){performanceManager.WriteToLog(this.debugBaseId+"_full_init",0)},b.prototype.play=function(){},b.prototype.stop=function(){},b}(a)}).call(this);